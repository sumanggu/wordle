<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆWordle GameüéÆ</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/your_stylesheet.css' %}">
    
    <style>
        .main-container {
        margin-top: -200px; /* Adjust the value as needed */
        padding-top: 0; /* Ensure there is no padding at the top */
    }
        body {
            font-family: 'Changa', sans-serif;
            text-align: center;
            background-color: #F0F0F0;
            padding-top: 0px;
            /* Ï§ÑÏù∏ Í∞í */
        }

        h1 {
            font-size: 50px;
            color: #111;
            font-family: 'Changa', sans-serif;
            font-weight: 500;
        }

        form {
            margin-top: 20px;
        }

        input[type="text"] {
            padding: 10px;
            font-size: 20px;
            width: 150px;
            text-align: center;
            border: 2px solid;
            border-radius: 10px;
            outline: none;
        }

        button[type="submit"] {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button[type="submit"]:hover {
            background-color: #45A049;
        }

        button[type="start"] {
            padding: 7px 14px;
            font-size: 16px;
            background-color: #F52D0A;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button[type="run"] {
            padding: 7px 14px;
            font-size: 16px;
            background-color: #1e8310ea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button[type="fly"] {
            padding: 7px 14px;
            font-size: 16px;
            background-color: #942FA1;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button[type="walk"] {
            padding: 7px 14px;
            font-size: 16px;
            background-color: #eb9a05ea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button[type="jump"] {
            padding: 7px 14px;
            font-size: 16px;
            background-color: #0566F8;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button[type="master"] {
            padding: 7px 14px;
            font-size: 16px;
            background-color: #614209;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .list-container {
            position: relative;
            top: 320px;
            /* Ï§ÑÏù∏ Í∞í */
            left: 585px;
            display: inline-block;
            margin-top: 30px;
            flex-direction: column;
            align-items: flex-start;
        }

        .list-container button,
        .list-container form {
            margin-bottom: 10px;
            /* Î≤ÑÌäº Í∞ÑÏùò Í∞ÑÍ≤© */
            width: 120%;
            display: block;
            /* Î≤ÑÌäºÏùÑ Î∂ÄÎ™® ÏöîÏÜåÏùò ÎÑàÎπÑÎ°ú ÏÑ§Ï†ï (ÏÑ†ÌÉù ÏÇ¨Ìï≠) */
        }

        .list-container form button {
            width: 100%;
            /* Ìèº Î≤ÑÌäºÏùò ÎÑàÎπÑÎèÑ ÎèôÏùºÌïòÍ≤å ÏÑ§Ï†ï */
        }

        .new-container {
            position: relative;
            top: 20px;
            /* Ï§ÑÏù∏ Í∞í */
            right: 300px;
            display: inline-block;
            margin-top: 30px;
            /* Ï§ÑÏù∏ Í∞í */
        }

        .level-container p {
            font-size: 16px;
            border: 2px solid black;
            padding: 10px;
            background-color: rgb(8, 8, 8);
            color: rgb(255, 255, 255);
            padding: 3px 14px;
            border-radius: 5px;
            text-align: center;
        }

        .level-container {
            position: relative;
            top: 20px;
            /* Ï§ÑÏù∏ Í∞í */
            left: 330px;
            display: inline-block;
            margin-top: 30px;
            /* Ï§ÑÏù∏ Í∞í */
        }

        ul {
            list-style-type: none;
            padding: 0;
        }

        li {
            display: block;
            margin: 5px;
            font-size: 20px;
        }

        .response {
            margin-top: 20px;
            font-size: 18px;
        }

        .history {
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .keypad {
            margin-top: 20px;
        }

        .keypad-row {
            margin-bottom: 10px;
        }

        .keypad-row button {
            padding: 10px 15px;
            font-size: 18px;
            margin: 5px;
            border: 2px solid #ccc;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .keypad-row button:hover {
            background-color: #45A049;
        }

        .letter-box {
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            margin: 5px;
            font-size: 24px;
            color: white;
            text-align: center;
            border-radius: 5px;
        }

        .green {
            background-color: #4CAF50;
        }

        .yellow {
            background-color: #FFC107;
        }

        .black {
            background-color: #0C0C0C;
        }

        .keypad-row button.green {
            background-color: #4CAF50;
            color: white;
        }

        .keypad-row button.yellow {
            background-color: #FFC107;
            color: black;
        }

        .keypad-row button.black {
            background-color: #0C0C0C;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            overflow: auto;
        }

        .modal-content {
            background-color: #FEFEFE;
            margin: 10% auto;
            padding: 15px;
            border: 7px solid #B80B0B;
            width: 80%;
            max-width: 600px;
            border-radius: 30px;
            font-size: 20px;
            font-family: 'Gill Sans';
        }

        #rule-button {
            margin-top: 10px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .content-container {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .history {
            margin-left: 20px;
        }

        .character-container {
            position: relative;
            display: inline-block;
            top: 30px;
        }

        .character {
            width: auto;
            height: 200px;
        }

        .speech-bubble {
            position: absolute;
            top: 60px;
            left: -200px;
            width: 240px;
            padding: 10px;
            background: #fff;
            border: 2px solid #000;
            border-radius: 5px;
            font-size: 16px;
            text-align: center;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -20px;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border: 10px solid transparent;
            border-left-color: #fff;
            border-right: 0;
            border-top: 0;
            margin-top: -10px;
        }

        .banner-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .banner-container a {
            margin: 0 10px;
        }

        .banner-container img {
            width: 200px;
            height: auto;
            border-radius: 5px;
            transition: transform 0.3s ease;
        }

        .banner-container img:hover {
            transform: scale(1.05);
        }

        .modal-content p {
            font-size: 15px;
        }

        @media screen and (max-width: 768px) {
            body {
                padding-top: 20px;
            }

            .main-container {
                margin-top: 0;
                padding-top: 20px;
                flex-direction: column;
                align-items: center;
            }

            h1 {
                font-size: 28px;
            }

            input[type="text"] {
                font-size: 16px;
                width: 100px;
            }

            button[type="submit"],
            button[type="start"],
            button[type="run"],
            button[type="fly"],
            button[type="walk"],
            button[type="jump"],
            button[type="master"] {
                padding: 5px 10px;
                font-size: 12px;
                width: auto;
                margin: 3px;
            }

            .new-container {
                top: 0;
                right: 0;
                display: flex;
                justify-content: center;
                width: 100%;
                margin-top: 10px;
            }

            .level-container {
                top: 0;
                left: 0;
                display: flex;
                justify-content: center;
                width: 100%;
                margin-top: 10px;
                order: 1; /* Îß® ÏïÑÎûòÎ°ú Î∞∞Ïπò */
            }

            .content-container {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .character-container {
                order: 1; /* Ï∫êÎ¶≠ÌÑ∞ Ïª®ÌÖåÏù¥ÎÑàÏùò ÏàúÏÑú */
                position: relative; /* relativeÎ°ú Î≥ÄÍ≤Ω */
            }

            .history {
                order: 2; /* ÌûàÏä§ÌÜ†Î¶¨ Ïª®ÌÖåÏù¥ÎÑàÏùò ÏàúÏÑú */
                margin-top: 40px;
                width: 100%;
                display: flex;
                justify-content: center;
            }

            .list-container {
                order: 3; /* Î¶¨Ïä§Ìä∏ Ïª®ÌÖåÏù¥ÎÑàÏùò ÏàúÏÑú */
                top: 0;
                left: 0;
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
                width: 100%;
                margin-top: 10px;
                flex-wrap: wrap;
            }

            .list-container button {
                flex: 1 1 30%; /* Î≤ÑÌäº ÌÅ¨Í∏∞ Ï°∞Ï†ï */
                margin: 5px; /* Î≤ÑÌäº Í∞ÑÍ≤© Ï°∞Ï†ï */
                max-width: 30%; /* ÏµúÎåÄ ÎÑàÎπÑ ÏÑ§Ï†ï */
            }

            .new-container {
                order: 4; /* ÏÉà Í≤åÏûÑ Ïª®ÌÖåÏù¥ÎÑàÏùò ÏàúÏÑú */
                display: flex;
                justify-content: center;
                width: 100%;
                margin-top: 10px;
            }

            .speech-bubble {
                position: relative; /* relativeÎ°ú Î≥ÄÍ≤Ω */
                top: -20px; /* Ï∫êÎ¶≠ÌÑ∞ Ïù¥ÎØ∏ÏßÄ ÏïÑÎûòÎ°ú Ïù¥Îèô, ÌïÑÏöîÏóê Îî∞Îùº Ï°∞Ï†ï */
                left: 50%;
                transform: translateX(-50%);
                width: 240px;
                padding: 10px;
                background: #fff;
                border: 2px solid #000;
                border-radius: 5px;
                font-size: 16px;
                text-align: center;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            }

            .speech-bubble::after {
                content: '';
                position: absolute;
                top: -10px; /* ÌôîÏÇ¥ÌëúÏùò ÏúÑÏπòÎ•º ÏïÑÎûòÎ°ú Ï°∞Ï†ï */
                left: 50%;
                transform: translateX(-50%);
                width: 0;
                height: 0;
                border: 10px solid transparent;
                border-top-color: #fff; /* ÌôîÏÇ¥ÌëúÎ•º ÏïÑÎûòÎ°ú Ìñ•ÌïòÍ≤å */
                border-bottom: 0;
                border-right: 0;
                margin-left: -10px;
            }

            .keypad {
                display: none; /* Î™®Î∞îÏùºÏóêÏÑúÎäî ÌÇ§Ìå®ÎìúÎ•º Ïà®ÍπÅÎãàÎã§ */
            }

            .keypad-row button {
                padding: 6px 8px;
                font-size: 12px;
                margin: 2px;
            }

            .letter-box {
                width: 25px;
                height: 25px;
                line-height: 25px;
                font-size: 16px;
            }

            .banner-container img {
                width: 120px;
            }

            .modal-content {
                width: 90%;
            }
        }



    </style>
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@400&display=swap" rel="stylesheet">

<body>
    <div class="main-container">
    {% load static %}
    <div class="list-container">
        <!-- Îã®Ïñ¥ Î™©Î°ùÏùÑ Î∞îÍøÄ Ïàò ÏûàÎäî Î≤ÑÌäº -->
        <button id="btn-start" type="start" onclick="changeWordlist('Start')">1Îã®Í≥Ñ Start</button>
        <button id="btn-walk" type="walk" onclick="changeWordlist('Walk')">2Îã®Í≥Ñ Walk</button>
        <button id="btn-run" type="run" onclick="changeWordlist('Run')">3Îã®Í≥Ñ Run</button>
        <button id="btn-jump" type="jump" onclick="changeWordlist('Jump')">4Îã®Í≥Ñ Jump</button>
        <button id="btn-fly" type="fly" onclick="changeWordlist('Fly')">5Îã®Í≥Ñ Fly</button>
        <button id="btn-master" type="master" onclick="changeWordlist('Master')">6Îã®Í≥Ñ Master</button>
    </div>
    <div class="new-container">
    <!-- ÏÉà Í≤åÏûÑ ÏãúÏûë Î≤ÑÌäº -->
    <form method="get" action="">
        <button class="new-game-btn" type="submit" name="new_game" value="1">New Game</button>
    </form>
    </div>
    <div class="level-container">
        <!-- ÌòÑÏû¨ ÌïôÏäµÌïòÍ≥† ÏûàÎäî Îã®Ïñ¥ Î™©Î°ù Îã®Í≥Ñ Î≥¥Ïó¨Ï£ºÍ∏∞ -->
        <p>{{current_wordlist}} Îã®Í≥Ñ ÌïôÏäµ Ï§ë</p>
    </div>
    <!-- Î©îÏù∏ Ï†úÎ™© & Í∑úÏπôÏùÑ ÏÑ§Î™ÖÌï¥Ï£ºÎäî ÌåùÏóÖ -->
    <h1>üéÆWordle GameüéÆ<button id="rule-button" onclick="toggleModal()">Rule</button>
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="toggleModal()">&times;</span>
                <p>
                    ‚ûÄ 10Î≤àÏùò ÏãúÎèÑ ÏïàÏóê Ïò§ÎäòÏùò ÏõåÎì§ÏùÑ ÏïåÏïÑÎÇ¥ÏÑ∏Ïöî.<br>
                    ‚ûÅ Í∞ÅÍ∞ÅÏùò ÏãúÎèÑÎäî 5Í∏ÄÏûêÏùò ÏòÅÏñ¥ Îã®Ïñ¥Î°ú Ïù¥Î£®Ïñ¥ ÏßëÎãàÎã§.<br>
                    ‚ûÇ Ï∂îÏ∏°Ïù¥ ÎßûÎäîÏßÄ ÌôïÏù∏ÌïòÎ†§Î©¥ Submit Î≤ÑÌäºÏùÑ ÎàÑÎ•¥ÏÑ∏Ïöî.<br>
                    ‚ûÉ Ï∂îÏ∏°Ìïú Îã®Ïñ¥Í∞Ä ÏñºÎßàÎÇò ÎãµÏóê Í∑ºÏ†ëÌñàÎäîÏßÄÎäî Ïù¥ÌõÑ Í∞Å ÌÉÄÏùºÏùò ÏÉâÏúºÎ°ú ÌëúÏãúÎê©ÎãàÎã§.<br><br>
                    üí° ÏïåÌååÎ≤≥ÏùÄ Ï§ëÎ≥µ ÏÇ¨Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§ ! üí°<br>
                    <br>
                    üü© : ÏúÑÏπòÏôÄ ÏïåÌååÎ≤≥ Î™®Îëê ÎßûÏùå<br>
                    üü® : ÏïåÌååÎ≤≥ ÎßûÏùå<br>
                    ‚¨õ : ÏúÑÏπòÏôÄ ÏïåÌååÎ≤≥ Î™®Îëê ÌãÄÎ¶º
                </p>
            </div>
        </div>
    </h1>
    <form method="post" action="">
        {% csrf_token %}
        <input type="hidden" name="current_wordlist" value="{{ current_wordlist }}">
        <!-- Îã®Ïñ¥ ÏûÖÎ†• Î∞õÎäî Í≥≥ -->
        <input type="text" name="input_text" maxlength="5" placeholder="Enter your guess" required>
        <!-- Îã®Ïñ¥Î•º ÏûÖÎ†•ÌïòÍ≥† Ï†úÏ∂úÌïòÎäî Î≤ÑÌäº -->
        <button type="submit">Submit</button>
    </form>
    <p id="warning-message" style="color: red; display: none;">ÏòÅÏñ¥ Îã®Ïñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</p>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const inputField = document.getElementsByName("input_text")[0];
            const warningMessage = document.getElementById("warning-message");

            inputField.addEventListener("input", function () {
                if (/[\u3131-\u3163\uac00-\ud7a3]+/.test(inputField.value)) {
                    inputField.value = inputField.value.replace(/[\u3131-\u3163\uac00-\ud7a3]+/g, '');
                    warningMessage.style.display = 'block';
                } else {
                    warningMessage.style.display = 'none';
                }
            });
        });
    </script>

    <!-- Ï∫êÎ¶≠ÌÑ∞ÏôÄ Ï∂îÏ∏° Îã®Ïñ¥ Í∏∞Î°ùÏùÑ Ìè¨Ìï®ÌïòÎäî Ïª®ÌÖåÏù¥ÎÑà -->
    <div class="content-container">
        <div class="character-container">
            <!-- Ï∫êÎ¶≠ÌÑ∞ Ïù¥ÎØ∏ÏßÄ -->
            <img src="{% static 'my_app/images/character.png' %}" alt="Character" class="character">
            <!-- ÏùëÎãµ ÌÖçÏä§Ìä∏Í∞Ä ÏûàÎäî Í≤ΩÏö∞ ÌëúÏãú -->
            {% if response_text %}
            <div class="speech-bubble">{{ response_text|safe }}</div>
            {% endif %}
        </div>
        <!-- Ï∂îÏ∏° Îã®Ïñ¥ Í∏∞Î°ù -->
        {% if history %}
        <div class="history">
            <h3>Guess History</h3>
            <ul>
                {% for entry in history %}
                <li>
                    <!-- Í∞Å Í∏ÄÏûêÏôÄ ÏÉÅÌÉú ÌëúÏãú -->
                    {% for status, letter in entry.matched %}
                    <span class="letter-box {{ status }}">{{ letter }}</span>
                    {% endfor %}
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
    <!-- Í∏ÄÏûê ÏûÖÎ†•ÏùÑ ÏúÑÌïú ÌÇ§Ìå®Îìú Î≤ÑÌäº -->
    <div class="keypad">
        <div class="keypad-row">
            <button data-letter="q">Q</button>
            <button data-letter="w">W</button>
            <button data-letter="e">E</button>
            <button data-letter="r">R</button>
            <button data-letter="t">T</button>
            <button data-letter="y">Y</button>
            <button data-letter="u">U</button>
            <button data-letter="i">I</button>
            <button data-letter="o">O</button>
            <button data-letter="p">P</button>
        </div>
        <div class="keypad-row">
            <button data-letter="a">A</button>
            <button data-letter="s">S</button>
            <button data-letter="d">D</button>
            <button data-letter="f">F</button>
            <button data-letter="g">G</button>
            <button data-letter="h">H</button>
            <button data-letter="j">J</button>
            <button data-letter="k">K</button>
            <button data-letter="l">L</button>
            <button data-letter="enter">Enter</button>
        </div>
        <div class="keypad-row">
            <button data-letter="z">Z</button>
            <button data-letter="x">X</button>
            <button data-letter="c">C</button>
            <button data-letter="v">V</button>
            <button data-letter="b">B</button>
            <button data-letter="n">N</button>
            <button data-letter="m">M</button>
            <button data-letter="backspace">‚å´</button>
        </div>
    </div>
    </form>
    <!-- Ïô∏Î∂Ä ÎßÅÌÅ¨Î•º Ìè¨Ìï®ÌïòÎäî Î∞∞ÎÑà Ïª®ÌÖåÏù¥ÎÑà -->
    <div class="banner-container">
        <a href="https://en.dict.naver.com" target="_blank">
            <img src="/static/images/naver_banner.jpg" alt="Naver Dictionary">
        </a>
        <a href="https://www.milkt.co.kr" target="_blank">
            <img src="/static/images/milkt_banner.jpg" alt="Milkt">
        </a>
    </div>
    <script>
        // Í∏ÄÏûê Ï∂îÍ∞Ä Ìï®Ïàò
        function addLetter(letter) {
            var input = document.getElementsByName("input_text")[0];
            if (input.value.length < 5) {
                input.value += letter;
            }
        }
        // Î∞±Ïä§ÌéòÏù¥Ïä§ Í∏∞Îä• Ìï®Ïàò
        function backspace() {
    var currentText = document.getElementById('inputField').value;
    // ÌòÑÏû¨ ÌÖçÏä§Ìä∏ÏóêÏÑú ÎßàÏßÄÎßâ Í∏ÄÏûêÎ•º ÏÇ≠Ï†ú
    var newText = currentText.slice(0, -1);
    // ÏûÖÎ†• ÌïÑÎìúÏóê ÏÉàÎ°úÏö¥ ÌÖçÏä§Ìä∏ Î∞òÏòÅ
    document.getElementById('inputField').value = newText;
}
        // Î™®Îã¨ Ï∞Ω Ïó¥Í≥† Îã´Îäî Ìï®Ïàò
        function toggleModal() {
            var modal = document.getElementById("myModal");
            if (modal.style.display === "none" || modal.style.display === "") {
                modal.style.display = "block"; // Î™®Îã¨ Ïó¥Í∏∞
            } else {
                modal.style.display = "none"; // Î™®Îã¨ Îã´Í∏∞
            }
        }

        var currentWordlist = ''; // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú Îã®Ïñ¥ Î™©Î°ùÏùÑ Ï∂îÏ†ÅÌïòÎäî Î≥ÄÏàò

        // Îã®Ïñ¥ Î™©Î°ù Î≥ÄÍ≤Ω Ìï®Ïàò
        function changeWordlist(wordlist) {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/change-wordlist', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onload = function () {
                if (xhr.status === 200) {
                    alert('Îã®Ïñ¥ Î™©Î°ùÏù¥ Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§.');
                    // Í≤åÏûÑ ÏãúÏûëÌïòÍ∏∞ ÏúÑÌï¥ ÌòÑÏû¨ Îã®Ïñ¥ Î™©Î°ù ÏóÖÎç∞Ïù¥Ìä∏
                    currentWordlist = wordlist;
                    startNewGame();
                } else {
                    alert('ÏÑúÎ≤Ñ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');
                }
            };
            xhr.send(JSON.stringify({ wordlist: wordlist }));
        }

        var newGameButton = document.querySelector('.new-game-btn');

        // ÏÉà Í≤åÏûÑ ÏãúÏûë Ìï®Ïàò
        function startNewGame() {
            // ÌòÑÏû¨ Îã®Ïñ¥ Î™©Î°ùÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏÉà Í≤åÏûÑ ÏãúÏûë
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/change-wordlist', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onload = function () {
                if (xhr.status === 200) {
                    alert('ÏÉà Í≤åÏûÑÏù¥ ÏãúÏûëÎêòÏóàÏäµÎãàÎã§.');
                    newGameButton.click()    // ÏÉà Í≤åÏûÑ Î≤ÑÌäº ÌÅ¥Î¶≠
                } else {
                    alert('ÏÑúÎ≤Ñ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');
                }
            };
            xhr.send(JSON.stringify({ wordlist: currentWordlist }));
        }
        document.addEventListener("DOMContentLoaded", function () {
            const inputField = document.getElementsByName("input_text")[0];
        
            // ÌÇ§Ìå®Îìú ÏÉÅÌÉú Ï¥àÍ∏∞Ìôî
            const keypadStates = JSON.parse('{{ keypad_states|escapejs }}');
            // Í∞Å Î≤ÑÌäºÏóê Ï¥àÍ∏∞ ÏÉÅÌÉú Ï†ÅÏö©
            for (const [letter, state] of Object.entries(keypadStates)) {
                const button = document.querySelector(`button[data-letter="${letter}"]`);
                if (button) {
                    button.classList.add(state);
                }
            }
            // Í∞Å ÌÇ§Ìå®Îìú Î≤ÑÌäºÏóê ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Ï∂îÍ∞Ä
            document.querySelectorAll(".keypad button").forEach(button => {
                button.addEventListener("click", () => {
                    const letter = button.getAttribute('data-letter');
                    if (letter === "backspace") {
                        backspace();      // Î∞±Ïä§ÌéòÏù¥Ïä§ ÌÅ¥Î¶≠ Ïãú Ï≤òÎ¶¨
                    } else if (letter === "enter") {
                        if (inputField.value.length > 0) { // ÏûÖÎ†• ÌïÑÎìúÍ∞Ä ÎπÑÏñ¥ ÏûàÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ÏóêÎßå Ï†úÏ∂ú
                            document.forms[1].submit();
                        }
                    } else if (inputField.value.length < 5) {
                        inputField.value += letter;      // Í∏ÄÏûê Ï∂îÍ∞Ä
                    }
                });
            });
        
            // Î∞±Ïä§ÌéòÏù¥Ïä§ Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú Ï≤òÎ¶¨
            document.querySelector('button[data-letter="backspace"]').addEventListener("click", () => {
                inputField.value = inputField.value.slice(0, -1);
            });
            // Ï†úÏ∂ú Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú Ìèº Ï†úÏ∂ú
            document.getElementById("submit").addEventListener("click", () => {
                document.forms[1].submit();
            });
        });
        
        // ÌÇ§Ìå®Îìú Î≤ÑÌäº Ïä§ÌÉÄÏùº ÏóÖÎç∞Ïù¥Ìä∏
        function updateKeypadButtonStyle(letter) {
            const keypadButton = document.getElementById(letter.toLowerCase());
            if (keypadButton) {
                keypadButton.style.backgroundColor = "#45A049";
                keypadButton.style.color = "white";
            }
        }
        // ÌÇ§Ìå®Îìú Î≤ÑÌäº Ïä§ÌÉÄÏùº Ï¥àÍ∏∞Ìôî
        function resetKeypadButtonStyle() {
            document.querySelectorAll(".keypad button").forEach(button => {
                button.style.backgroundColor = "";
                button.style.color = "";
            });
        }




    </script>
    </div>
</body>

</html>